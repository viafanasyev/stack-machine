<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Stack machine: test/testlib.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Stack machine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_13e138d54eb8818da29c3992edef070a.html">test</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">testlib.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file with testlib description.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;cassert&gt;</code><br />
<code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;csignal&gt;</code><br />
<code>#include &lt;functional&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;wait.h&gt;</code><br />
</div>
<p><a href="testlib_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_test.html">Test</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_test_runner.html">TestRunner</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a3e8ea953365265f6627605afbde9ba70"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#a3e8ea953365265f6627605afbde9ba70">TEST_NAME</a>(group,  name)&#160;&#160;&#160;group##_##name##_test</td></tr>
<tr class="separator:a3e8ea953365265f6627605afbde9ba70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f9bfa46a963a63e89c25b399dc6a3b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#a6f9bfa46a963a63e89c25b399dc6a3b7">TEST_INFO</a>(group,  name)&#160;&#160;&#160;group##_##name##_testinfo</td></tr>
<tr class="separator:a6f9bfa46a963a63e89c25b399dc6a3b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63862f8a42d6bee21007a3764e6c003c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#a63862f8a42d6bee21007a3764e6c003c">TEST</a>(group,  name)</td></tr>
<tr class="separator:a63862f8a42d6bee21007a3764e6c003c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a153a455ff6732ecca7959b9fa3764ba1"><td class="memItemLeft" align="right" valign="top"><a id="a153a455ff6732ecca7959b9fa3764ba1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TESTLIB_ANSI_COLOR_RED</b>&#160;&#160;&#160;&quot;\x1b[31m&quot;</td></tr>
<tr class="separator:a153a455ff6732ecca7959b9fa3764ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a137e77184419c3f51d0f9f150c2b2e27"><td class="memItemLeft" align="right" valign="top"><a id="a137e77184419c3f51d0f9f150c2b2e27"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TESTLIB_ANSI_COLOR_GREEN</b>&#160;&#160;&#160;&quot;\x1b[32m&quot;</td></tr>
<tr class="separator:a137e77184419c3f51d0f9f150c2b2e27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f922fbddfa7ef97b080ab82d1d26678"><td class="memItemLeft" align="right" valign="top"><a id="a7f922fbddfa7ef97b080ab82d1d26678"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TESTLIB_ANSI_COLOR_RESET</b>&#160;&#160;&#160;&quot;\x1b[0m&quot;</td></tr>
<tr class="separator:a7f922fbddfa7ef97b080ab82d1d26678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f8ea0df49d4709f5de8bb764d2d2bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#a17f8ea0df49d4709f5de8bb764d2d2bf">TESTLIB_ASSERT_FAILED</a>(onFailure)</td></tr>
<tr class="separator:a17f8ea0df49d4709f5de8bb764d2d2bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06c1d086c6645f3a4c71bdff6db3ff66"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#a06c1d086c6645f3a4c71bdff6db3ff66">TESTLIB_EPS</a>&#160;&#160;&#160;1e-9</td></tr>
<tr class="separator:a06c1d086c6645f3a4c71bdff6db3ff66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf1c68451f41d73653199ef83b4b1074"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#abf1c68451f41d73653199ef83b4b1074">TESTLIB_ASSERT_EQUALS_FAILURE_MESSAGE</a>(expected,  actual)</td></tr>
<tr class="separator:abf1c68451f41d73653199ef83b4b1074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9244bfbda562e8b798789b001993fa5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#ae9244bfbda562e8b798789b001993fa5">ASSERT_TRUE</a>(condition)&#160;&#160;&#160;<a class="el" href="testlib_8h.html#abf80da56d1d25ea55beea997960ff2ae">ASSERT_TRUE_WITH_FAILURE</a>(condition, )</td></tr>
<tr class="separator:ae9244bfbda562e8b798789b001993fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf80da56d1d25ea55beea997960ff2ae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#abf80da56d1d25ea55beea997960ff2ae">ASSERT_TRUE_WITH_FAILURE</a>(condition,  onFailure)&#160;&#160;&#160;if (!(condition)) <a class="el" href="testlib_8h.html#a17f8ea0df49d4709f5de8bb764d2d2bf">TESTLIB_ASSERT_FAILED</a>(onFailure)</td></tr>
<tr class="separator:abf80da56d1d25ea55beea997960ff2ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af231523b81f0ab75c26bdcd1b0072478"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#af231523b81f0ab75c26bdcd1b0072478">ASSERT_EQUALS</a>(actual,  expected)</td></tr>
<tr class="separator:af231523b81f0ab75c26bdcd1b0072478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52635d5958ac97c91f58a50937ed2194"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#a52635d5958ac97c91f58a50937ed2194">ASSERT_DOUBLE_EQUALS</a>(actualDouble,  expectedDouble)</td></tr>
<tr class="separator:a52635d5958ac97c91f58a50937ed2194"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7b6e1dd68b1c668195546c7a9c9aa4a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#ac7b6e1dd68b1c668195546c7a9c9aa4a">ASSERT_NULL</a>(value)&#160;&#160;&#160;<a class="el" href="testlib_8h.html#ae9244bfbda562e8b798789b001993fa5">ASSERT_TRUE</a>((value) == nullptr)</td></tr>
<tr class="separator:ac7b6e1dd68b1c668195546c7a9c9aa4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71f7770927267fbaf23fb80f818ea158"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#a71f7770927267fbaf23fb80f818ea158">ASSERT_NOT_NULL</a>(value)&#160;&#160;&#160;<a class="el" href="testlib_8h.html#ae9244bfbda562e8b798789b001993fa5">ASSERT_TRUE</a>((value) != nullptr)</td></tr>
<tr class="separator:a71f7770927267fbaf23fb80f818ea158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f919adfb863fa8dcaa3da9d7dd5731b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#a7f919adfb863fa8dcaa3da9d7dd5731b">ASSERT_DIES</a>(statement)</td></tr>
<tr class="separator:a7f919adfb863fa8dcaa3da9d7dd5731b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8115dda1a36af60a0aea162cfbd57dfe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#a8115dda1a36af60a0aea162cfbd57dfe">ASSERT_FAILS_ASSERTION</a>(statement)</td></tr>
<tr class="separator:a8115dda1a36af60a0aea162cfbd57dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a26f42fe409ceef9342106ce8d61d2ab1"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testlib_8h.html#a26f42fe409ceef9342106ce8d61d2ab1">TestPtr</a> = std::function&lt; void()&gt;</td></tr>
<tr class="separator:a26f42fe409ceef9342106ce8d61d2ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file with testlib description. </p>
<p>Tests can be created with <a class="el" href="testlib_8h.html#a63862f8a42d6bee21007a3764e6c003c">TEST(group, name)</a> macro. Tests that are declared with this macro are registered in <a class="el" href="class_test_runner.html">TestRunner</a>. Use <a class="el" href="class_test_runner.html#ac932511328802eb63e9b37ca02a62b9a">TestRunner.runAllTests()</a> in main() to run all created tests.</p>
<p>You can use assertions in test functions to check some condition (for example, <a class="el" href="testlib_8h.html#ae9244bfbda562e8b798789b001993fa5">ASSERT_TRUE(condition)</a> or <a class="el" href="testlib_8h.html#af231523b81f0ab75c26bdcd1b0072478">ASSERT_EQUALS(actual, expected)</a>). </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a7f919adfb863fa8dcaa3da9d7dd5731b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f919adfb863fa8dcaa3da9d7dd5731b">&#9670;&nbsp;</a></span>ASSERT_DIES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASSERT_DIES</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">statement</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                                                                    \</div>
<div class="line">    int status = 0;                                                                                                    \</div>
<div class="line">    pid_t ppid = 0;                                                                                                    \</div>
<div class="line">    if ((ppid = fork()) &lt; 0) {                                                                                         \</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;Failed to create child process\n&quot;</span>);                                                           \</div>
<div class="line">        TESTLIB_ASSERT_FAILED();                                                                                       \</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ppid == 0) {                                                                                            \</div>
<div class="line">        int fd = open(<span class="stringliteral">&quot;/dev/null&quot;</span>, O_RDWR);                                                                            \</div>
<div class="line">        dup2(fd, 0);                                                                                                   \</div>
<div class="line">        dup2(fd, 1);                                                                                                   \</div>
<div class="line">        dup2(fd, 2);                                                                                                   \</div>
<div class="line">        close(fd);                                                                                                     \</div>
<div class="line">                                                                                                                       \</div>
<div class="line">        statement;                                                                                                     \</div>
<div class="line">                                                                                                                       \</div>
<div class="line">        exit(0);                                                                                                       \</div>
<div class="line">    }                                                                                                                  \</div>
<div class="line">                                                                                                                       \</div>
<div class="line">    waitpid(ppid, &amp;status, 0);                                                                                         \</div>
<div class="line">    ASSERT_TRUE(status != 0);                                                                                          \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>Asserts if the statement execution makes the current process die.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statement</td><td>statement to check </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a52635d5958ac97c91f58a50937ed2194"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52635d5958ac97c91f58a50937ed2194">&#9670;&nbsp;</a></span>ASSERT_DOUBLE_EQUALS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASSERT_DOUBLE_EQUALS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">actualDouble, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expectedDouble&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                                        \</div>
<div class="line">    const <span class="keywordtype">double</span> actualResult   = (actualDouble);                                                                      \</div>
<div class="line">    const <span class="keywordtype">double</span> expectedResult = (expectedDouble);                                                                    \</div>
<div class="line">    ASSERT_TRUE_WITH_FAILURE(                                                                                          \</div>
<div class="line">        isZero(actualResult - expectedResult),                                                                         \</div>
<div class="line">        <a class="code" href="testlib_8h.html#abf1c68451f41d73653199ef83b4b1074">TESTLIB_ASSERT_EQUALS_FAILURE_MESSAGE</a>(expectedResult, actualResult)                                            \</div>
<div class="line">    );                                                                                                                 \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>Asserts if two expressions of type double are equal. Uses isZero(double x) function to check equality.</p>
<dl class="section see"><dt>See also</dt><dd>isZero(double x)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actualDouble</td><td>expression to check </td></tr>
    <tr><td class="paramname">expectedDouble</td><td>expected result of the expression </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af231523b81f0ab75c26bdcd1b0072478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af231523b81f0ab75c26bdcd1b0072478">&#9670;&nbsp;</a></span>ASSERT_EQUALS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASSERT_EQUALS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">actual, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expected&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code" href="testlib_8h.html#abf80da56d1d25ea55beea997960ff2ae">ASSERT_TRUE_WITH_FAILURE</a>(                                                                                          \</div>
<div class="line">        (actual) == (expected),                                                                                        \</div>
<div class="line">        <a class="code" href="testlib_8h.html#abf1c68451f41d73653199ef83b4b1074">TESTLIB_ASSERT_EQUALS_FAILURE_MESSAGE</a>(expected, actual)                                                        \</div>
<div class="line">    )</div>
</div><!-- fragment --><p>Asserts if two expressions are equal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">actual</td><td>expression to check </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">expected</td><td>expected result of the expression </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8115dda1a36af60a0aea162cfbd57dfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8115dda1a36af60a0aea162cfbd57dfe">&#9670;&nbsp;</a></span>ASSERT_FAILS_ASSERTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASSERT_FAILS_ASSERTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">statement</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                                                                    \</div>
<div class="line">    int status = 0;                                                                                                    \</div>
<div class="line">    pid_t ppid = 0;                                                                                                    \</div>
<div class="line">    if ((ppid = fork()) &lt; 0) {                                                                                         \</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;Failed to create child process\n&quot;</span>);                                                           \</div>
<div class="line">        TESTLIB_ASSERT_FAILED();                                                                                       \</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ppid == 0) {                                                                                            \</div>
<div class="line">        int fd = open(<span class="stringliteral">&quot;/dev/null&quot;</span>, O_RDWR);                                                                            \</div>
<div class="line">        dup2(fd, 0);                                                                                                   \</div>
<div class="line">        dup2(fd, 1);                                                                                                   \</div>
<div class="line">        dup2(fd, 2);                                                                                                   \</div>
<div class="line">        close(fd);                                                                                                     \</div>
<div class="line">                                                                                                                       \</div>
<div class="line">        statement;                                                                                                     \</div>
<div class="line">                                                                                                                       \</div>
<div class="line">        exit(0);                                                                                                       \</div>
<div class="line">    }                                                                                                                  \</div>
<div class="line">                                                                                                                       \</div>
<div class="line">    waitpid(ppid, &amp;status, 0);                                                                                         \</div>
<div class="line">    ASSERT_TRUE(status == 128 + SIGABRT);                                                                                          \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>Asserts if the statement execution makes the assert (see assert.h or cassert) fail.</p>
<dl class="section note"><dt>Note</dt><dd>This macro temporarily works only for UNIX-like OS.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">statement</td><td>statement to check </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a71f7770927267fbaf23fb80f818ea158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71f7770927267fbaf23fb80f818ea158">&#9670;&nbsp;</a></span>ASSERT_NOT_NULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASSERT_NOT_NULL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="testlib_8h.html#ae9244bfbda562e8b798789b001993fa5">ASSERT_TRUE</a>((value) != nullptr)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asserts if the value is not equal to nullptr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>value to check for not-null </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac7b6e1dd68b1c668195546c7a9c9aa4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7b6e1dd68b1c668195546c7a9c9aa4a">&#9670;&nbsp;</a></span>ASSERT_NULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASSERT_NULL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="testlib_8h.html#ae9244bfbda562e8b798789b001993fa5">ASSERT_TRUE</a>((value) == nullptr)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asserts if the value is equal to nullptr.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>value to check for null </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae9244bfbda562e8b798789b001993fa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9244bfbda562e8b798789b001993fa5">&#9670;&nbsp;</a></span>ASSERT_TRUE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASSERT_TRUE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">condition</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="testlib_8h.html#abf80da56d1d25ea55beea997960ff2ae">ASSERT_TRUE_WITH_FAILURE</a>(condition, )</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asserts if condition is true. </p>

</div>
</div>
<a id="abf80da56d1d25ea55beea997960ff2ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf80da56d1d25ea55beea997960ff2ae">&#9670;&nbsp;</a></span>ASSERT_TRUE_WITH_FAILURE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASSERT_TRUE_WITH_FAILURE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">condition, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">onFailure&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;if (!(condition)) <a class="el" href="testlib_8h.html#a17f8ea0df49d4709f5de8bb764d2d2bf">TESTLIB_ASSERT_FAILED</a>(onFailure)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Asserts if condition is true. Runs additional code if condition failed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">onFailure</td><td>code that is executed on condition failure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a63862f8a42d6bee21007a3764e6c003c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63862f8a42d6bee21007a3764e6c003c">&#9670;&nbsp;</a></span>TEST</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEST</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">group, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    static_assert(<span class="keyword">sizeof</span>(#group) &gt; 1, <span class="stringliteral">&quot;test group must not be empty&quot;</span>);                                                 \</div>
<div class="line">    static_assert(<span class="keyword">sizeof</span>(#name)  &gt; 1, <span class="stringliteral">&quot;test name must not be empty&quot;</span> );                                                 \</div>
<div class="line">                                                                                                                       \</div>
<div class="line">    void <a class="code" href="testlib_8h.html#a3e8ea953365265f6627605afbde9ba70">TEST_NAME</a>(group, name)();                                                                                     \</div>
<div class="line">    const <a class="code" href="class_test.html">Test</a>* <a class="code" href="testlib_8h.html#a6f9bfa46a963a63e89c25b399dc6a3b7">TEST_INFO</a>(group, name) =                                                                               <a class="code" href="class_test_runner.html#ab92ba345c5bc9c3e5284aca8f6961cd9">\</a></div>
<div class="line"><a class="code" href="class_test_runner.html#ab92ba345c5bc9c3e5284aca8f6961cd9">        TestRunner::getInstance</a>()-&gt;<a class="code" href="class_test_runner.html#a06e0d07520d2e392aed9db437885a75c">addTest</a>(&amp;<a class="code" href="testlib_8h.html#a3e8ea953365265f6627605afbde9ba70">TEST_NAME</a>(group, name), __FILE__, __LINE__);                               \</div>
<div class="line">    void <a class="code" href="testlib_8h.html#a3e8ea953365265f6627605afbde9ba70">TEST_NAME</a>(group, name)()</div>
</div><!-- fragment --><p>Creates a test with a given group and name and registers it in a <a class="el" href="class_test_runner.html">TestRunner</a>. Tests created by this macro are launched automatically by <a class="el" href="class_test_runner.html#ac932511328802eb63e9b37ca02a62b9a">TestRunner.runAllTests()</a>. You can you use assertions during the tests to check some conditions.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="testlib_8h.html#ae9244bfbda562e8b798789b001993fa5">ASSERT_TRUE(condition)</a> </dd>
<dd>
<a class="el" href="testlib_8h.html#abf80da56d1d25ea55beea997960ff2ae">ASSERT_TRUE_WITH_FAILURE(condition, onFailure)</a> </dd>
<dd>
<a class="el" href="testlib_8h.html#af231523b81f0ab75c26bdcd1b0072478">ASSERT_EQUALS(actual, expected)</a> </dd>
<dd>
<a class="el" href="testlib_8h.html#a52635d5958ac97c91f58a50937ed2194">ASSERT_DOUBLE_EQUALS(actualDouble, expectedDouble)</a> </dd></dl>

</div>
</div>
<a id="a6f9bfa46a963a63e89c25b399dc6a3b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f9bfa46a963a63e89c25b399dc6a3b7">&#9670;&nbsp;</a></span>TEST_INFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEST_INFO</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">group, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;group##_##name##_testinfo</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Name that is given to a global variable that contains pointer to a <a class="el" href="class_test.html">Test</a> object created by <a class="el" href="testlib_8h.html#a63862f8a42d6bee21007a3764e6c003c">TEST(group, name)</a> macro. </p>

</div>
</div>
<a id="a3e8ea953365265f6627605afbde9ba70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e8ea953365265f6627605afbde9ba70">&#9670;&nbsp;</a></span>TEST_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEST_NAME</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">group, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;group##_##name##_test</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Name that is given to a test function created by <a class="el" href="testlib_8h.html#a63862f8a42d6bee21007a3764e6c003c">TEST(group, name)</a> macro. </p>

</div>
</div>
<a id="abf1c68451f41d73653199ef83b4b1074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf1c68451f41d73653199ef83b4b1074">&#9670;&nbsp;</a></span>TESTLIB_ASSERT_EQUALS_FAILURE_MESSAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TESTLIB_ASSERT_EQUALS_FAILURE_MESSAGE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">expected, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">actual&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;\tEXPECTED : &quot;</span> &lt;&lt; (expected) &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>                                                                 \</div>
<div class="line">              &lt;&lt; <span class="stringliteral">&quot;\tACTUAL   : &quot;</span> &lt;&lt; (actual)   &lt;&lt; <span class="charliteral">&#39;\n&#39;</span></div>
</div><!-- fragment --><p>Helper macro for printing message on equality failure. </p>

</div>
</div>
<a id="a17f8ea0df49d4709f5de8bb764d2d2bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17f8ea0df49d4709f5de8bb764d2d2bf">&#9670;&nbsp;</a></span>TESTLIB_ASSERT_FAILED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TESTLIB_ASSERT_FAILED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">onFailure</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                                                          \</div>
<div class="line">    TestRunner* runner = <a class="code" href="class_test_runner.html#ab92ba345c5bc9c3e5284aca8f6961cd9">TestRunner::getInstance</a>();                                                                    \</div>
<div class="line">    std::cerr &lt;&lt; TESTLIB_ANSI_COLOR_RED;                                                                               \</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;[ASSERTION FAILED] &quot;</span> &lt;&lt; __FILE__ &lt;&lt; <span class="charliteral">&#39;:&#39;</span> &lt;&lt; __LINE__ &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;                                         \</div>
<div class="line">    onFailure;                                                                                                         \</div>
<div class="line">    std::cerr &lt;&lt; TESTLIB_ANSI_COLOR_RESET;                                                                             \</div>
<div class="line">    runner-&gt;failCurrentTest();                                                                                         \</div>
<div class="line">    return;                                                                                                            \</div>
<div class="line">} <span class="keywordflow">while</span> (0)</div>
</div><!-- fragment --><p>Inner helper macro for showing that assertion and current test failed. Use this in assertions macros, not in tests.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">onFailure</td><td>code that is executed during the assertion failure. Can be used to print some additional info to std::cerr. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a06c1d086c6645f3a4c71bdff6db3ff66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06c1d086c6645f3a4c71bdff6db3ff66">&#9670;&nbsp;</a></span>TESTLIB_EPS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TESTLIB_EPS&#160;&#160;&#160;1e-9</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Precision for checking equality in <a class="el" href="testlib_8h.html#a52635d5958ac97c91f58a50937ed2194">ASSERT_DOUBLE_EQUALS(actualDouble, expectedDouble)</a>. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a26f42fe409ceef9342106ce8d61d2ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26f42fe409ceef9342106ce8d61d2ab1">&#9670;&nbsp;</a></span>TestPtr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="testlib_8h.html#a26f42fe409ceef9342106ce8d61d2ab1">TestPtr</a> =  std::function&lt;void()&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pointer to a function created by <a class="el" href="testlib_8h.html#a63862f8a42d6bee21007a3764e6c003c">TEST(group, name)</a> macro. </p>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="atestlib_8h_html_a3e8ea953365265f6627605afbde9ba70"><div class="ttname"><a href="testlib_8h.html#a3e8ea953365265f6627605afbde9ba70">TEST_NAME</a></div><div class="ttdeci">#define TEST_NAME(group, name)</div><div class="ttdef"><b>Definition:</b> testlib.h:141</div></div>
<div class="ttc" id="atestlib_8h_html_abf80da56d1d25ea55beea997960ff2ae"><div class="ttname"><a href="testlib_8h.html#abf80da56d1d25ea55beea997960ff2ae">ASSERT_TRUE_WITH_FAILURE</a></div><div class="ttdeci">#define ASSERT_TRUE_WITH_FAILURE(condition, onFailure)</div><div class="ttdef"><b>Definition:</b> testlib.h:213</div></div>
<div class="ttc" id="aclass_test_runner_html_a06e0d07520d2e392aed9db437885a75c"><div class="ttname"><a href="class_test_runner.html#a06e0d07520d2e392aed9db437885a75c">TestRunner::addTest</a></div><div class="ttdeci">Test * addTest(TestPtr testPtr, const char *fileName, unsigned int line)</div><div class="ttdef"><b>Definition:</b> testlib.cpp:58</div></div>
<div class="ttc" id="atestlib_8h_html_abf1c68451f41d73653199ef83b4b1074"><div class="ttname"><a href="testlib_8h.html#abf1c68451f41d73653199ef83b4b1074">TESTLIB_ASSERT_EQUALS_FAILURE_MESSAGE</a></div><div class="ttdeci">#define TESTLIB_ASSERT_EQUALS_FAILURE_MESSAGE(expected, actual)</div><div class="ttdef"><b>Definition:</b> testlib.h:200</div></div>
<div class="ttc" id="atestlib_8h_html_a6f9bfa46a963a63e89c25b399dc6a3b7"><div class="ttname"><a href="testlib_8h.html#a6f9bfa46a963a63e89c25b399dc6a3b7">TEST_INFO</a></div><div class="ttdeci">#define TEST_INFO(group, name)</div><div class="ttdef"><b>Definition:</b> testlib.h:143</div></div>
<div class="ttc" id="aclass_test_html"><div class="ttname"><a href="class_test.html">Test</a></div><div class="ttdef"><b>Definition:</b> testlib.h:40</div></div>
<div class="ttc" id="aclass_test_runner_html_ab92ba345c5bc9c3e5284aca8f6961cd9"><div class="ttname"><a href="class_test_runner.html#ab92ba345c5bc9c3e5284aca8f6961cd9">TestRunner::getInstance</a></div><div class="ttdeci">static TestRunner * getInstance()</div><div class="ttdef"><b>Definition:</b> testlib.cpp:144</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
